<odoo>
    <template id="report_invoice_document_b" inherit_id="account.report_invoice_document">
        <!-- Solo aplica si la factura es de tipo B -->
        <xpath expr="//table[@class='table table-condensed']//tfoot" position="before">
            <t t-if="o.journal_id.invoice_type_code == 'B'">
                <tr>
                    <td colspan="4" style="text-align: right;">Subtotal sin IVA:</td>
                    <td class="text-right">
                        <t t-esc="amount_untaxed"/>
                    </td>
                </tr>
                <tr>
                    <td colspan="4" style="text-align: right;">IVA 21%:</td>
                    <td class="text-right">
                        <t t-esc="tax_totals_json['amount_by_group'][0][1]"/>
                    </td>
                </tr>
                <tr>
                    <td colspan="4" style="text-align: right;">Total:</td>
                    <td class="text-right">
                        <t t-esc="amount_total"/>
                    </td>
                </tr>
            </t>
        </xpath>
    </template>
</odoo>
